# All-Thing-Eye System Architecture

**Version**: 1.0.0  
**Last Updated**: 2025-11-13  
**Purpose**: Comprehensive system architecture documentation for technical presentations and onboarding

---

## ğŸ“‹ Table of Contents

1. [System Overview](#system-overview)
2. [High-Level Architecture](#high-level-architecture)
3. [Backend Architecture](#backend-architecture)
4. [Frontend Architecture](#frontend-architecture)
5. [Data Flow](#data-flow)
6. [Database Architecture](#database-architecture)
7. [Authentication & Security](#authentication--security)
8. [Deployment Architecture](#deployment-architecture)
9. [Technology Stack](#technology-stack)
10. [Future Enhancements](#future-enhancements)

---

## ğŸ¯ System Overview

### What is All-Thing-Eye?

All-Thing-Eye is a **multi-source team activity tracking and analytics platform** designed for blockchain organizations. It aggregates data from GitHub, Slack, Notion, and Google Drive to provide comprehensive team insights and automated reporting.

### Key Objectives

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Core Objectives                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1. ğŸ“Š Unified Activity Dashboard                          â”‚
â”‚     â†’ Aggregate all team activities in one place            â”‚
â”‚                                                             â”‚
â”‚  2. ğŸ¤– Automated Weekly Reports                            â”‚
â”‚     â†’ Generate project-specific activity reports            â”‚
â”‚                                                             â”‚
â”‚  3. ğŸ” Data-Driven Insights                                â”‚
â”‚     â†’ Enable AI-powered team analytics                      â”‚
â”‚                                                             â”‚
â”‚  4. ğŸ“ˆ Project Health Monitoring                           â”‚
â”‚     â†’ Track progress across multiple projects               â”‚
â”‚                                                             â”‚
â”‚  5. ğŸ” Secure Admin Access                                 â”‚
â”‚     â†’ Web3 wallet-based authentication                      â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Target Users

- **Team Leads**: Monitor project progress and team health
- **Project Managers**: Generate reports and track deliverables
- **Executives**: High-level overview of organizational activity
- **Developers**: Access to raw data for custom analysis

---

## ğŸ—ï¸ High-Level Architecture

### Two Main Data Flows

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   All-Thing-Eye Platform Overview                           â”‚
â”‚                                                                             â”‚
â”‚  ğŸ”„ Flow 1: User Request (Read)  â±ï¸  ~200ms                                â”‚
â”‚  ğŸ”„ Flow 2: Data Collection (Write)  â±ï¸  ~45sec                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Flow 1: User Request (Read) - "I want to see activities"

```
     ğŸ‘¤ User
      â”‚
      â”‚ (1) Click "Activities" page
      â”‚     Apply filters
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš›ï¸  FRONTEND (Next.js)                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“„ Pages: Dashboard | Activities | Exports | Login                         â”‚
â”‚  ğŸ” Auth: Web3 (MetaMask) - Wallet signature verification                   â”‚
â”‚                                                                             â”‚
â”‚  (2) Activities Page renders                                                â”‚
â”‚  (3) useEffect â†’ fetchActivities({ source: 'github', date... })            â”‚
â”‚  (4) axios.get('/api/v1/activities', { params })                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ (5) HTTP GET /api/v1/activities?source=github&...
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš¡ BACKEND (FastAPI)                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŒ main.py â†’ (6) Route request to /api/v1/activities                       â”‚
â”‚                                                                             â”‚
â”‚  ğŸ“ activities.py:                                                          â”‚
â”‚     @router.get("/")                                                        â”‚
â”‚     async def get_activities(source, start, end):                           â”‚
â”‚       (7) Build SQL:                                                        â”‚
â”‚           SELECT * FROM member_activities                                   â”‚
â”‚           WHERE source_type = ? AND timestamp BETWEEN ? AND ?               â”‚
â”‚                                                                             â”‚
â”‚       (8) Execute via Database Manager:                                     â”‚
â”‚           conn = sqlite3.connect('data/databases/main.db')                  â”‚
â”‚           results = conn.execute(query, params).fetchall()                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ (9) SQL Query
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¾ DATABASE (main.db)                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Table: member_activities  (Unified cross-source data)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ activity_id â”‚ member_id â”‚ source â”‚ activity â”‚ timestamp â”‚ metadata  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ gh_abc123   â”‚ 1 (Monica)â”‚ github â”‚ commit   â”‚ 2025-11-03â”‚ {...}     â”‚ â”‚
â”‚  â”‚ gh_def456   â”‚ 2 (Bernardâ”‚ github â”‚ pr       â”‚ 2025-11-04â”‚ {...}     â”‚ â”‚
â”‚  â”‚ ... (150 matching rows) ...                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  (10) Returns 150 rows                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ (11) Results back to Backend
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš¡ BACKEND (FastAPI)                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  (12) Format JSON:  { "status": "success", "data": [...150...], "count": 150 }â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ (13) HTTP 200 OK + JSON
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš›ï¸  FRONTEND (Next.js)                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  (14) Axios receives response                                               â”‚
â”‚  (15) React Query caches data                                               â”‚
â”‚  (16) Activities Page re-renders                                            â”‚
â”‚  (17) Display ActivityCard components                                       â”‚
â”‚                                                                             â”‚
â”‚  ğŸ¨ User sees:                                                              â”‚
â”‚     â€¢ Monica committed "feat: add zk proof" (2025-11-03)                    â”‚
â”‚     â€¢ Bernard opened PR #123 (2025-11-04)                                   â”‚
â”‚     â€¢ ... 148 more activities ...                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â–²
      â”‚ (18) Results displayed
      â”‚
     ğŸ‘¤ User happy! â±ï¸  Total: ~200ms
```

### Flow 2: Data Collection (Write) - "Collect GitHub data"

```
     ğŸ”§ Developer / Cron Job
      â”‚
      â”‚ (1) $ python tests/test_github_plugin.py --last-week
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”Œ BACKEND - Plugin System                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“¦ GitHub Plugin (src/plugins/github_plugin.py)                            â”‚
â”‚                                                                             â”‚
â”‚  (2) plugin = GitHubPlugin(config)                                          â”‚
â”‚  (3) Set date range: 2025-11-01 ~ 2025-11-07                                â”‚
â”‚  (4) Build GraphQL query for commits, PRs, issues                           â”‚
â”‚  (5) POST to https://api.github.com/graphql                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ (6) HTTPS + Auth Token
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŒ EXTERNAL API (GitHub)                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  (7) Receive GraphQL query                                                  â”‚
â”‚  (8) Authenticate token                                                     â”‚
â”‚  (9) Query Git database                                                     â”‚
â”‚  (10) Return JSON:                                                          â”‚
â”‚       {                                                                     â”‚
â”‚         "data": {                                                           â”‚
â”‚           "repository": {                                                   â”‚
â”‚             "history": {                                                    â”‚
â”‚               "edges": [                                                    â”‚
â”‚                 { "node": { "oid": "abc123", "message": "feat: add...",    â”‚
â”‚                             "author": {"email": "monica@tokamak.network"}, â”‚
â”‚                             "committedDate": "2025-11-03T10:30:00Z" } },   â”‚
â”‚                 ... (50 more commits) ...                                   â”‚
â”‚               ]                                                             â”‚
â”‚             }                                                               â”‚
â”‚           }                                                                 â”‚
â”‚         }                                                                   â”‚
â”‚       }                                                                     â”‚
â”‚                                                                             â”‚
â”‚  (Similarly: Slack API, Notion API, Google Drive API)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ (11) JSON Response
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”Œ BACKEND - Plugin System                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“¦ GitHub Plugin                                                           â”‚
â”‚                                                                             â”‚
â”‚  (12) Parse response                                                        â”‚
â”‚  (13) Transform to standard format:                                         â”‚
â”‚       commit_record = {                                                     â”‚
â”‚         'sha': 'abc123',                                                    â”‚
â”‚         'message': 'feat: add zk proof',                                    â”‚
â”‚         'author_email': 'monica@tokamak.network',                           â”‚
â”‚         'committed_date': '2025-11-03T10:30:00Z',                           â”‚
â”‚         'repository': 'Tokamak-zk-EVM'                                      â”‚
â”‚       }                                                                     â”‚
â”‚                                                                             â”‚
â”‚  (14) INSERT OR IGNORE INTO github_commits                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ (15) Write to source DB
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¾ SOURCE DATABASE (github.db)                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Table: github_commits  (Raw data from GitHub API)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ sha      â”‚ message      â”‚ author_email        â”‚ committed_date     â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ abc123.. â”‚ feat: add... â”‚ monica@tokamak.net..â”‚ 2025-11-03 10:30.. â”‚ â”‚
â”‚  â”‚ def456.. â”‚ fix: solve.. â”‚ bernard@tokamak.net.â”‚ 2025-11-04 14:20.. â”‚ â”‚
â”‚  â”‚ ... (51 commits stored) ...                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  (16) Data committed                                                        â”‚
â”‚                                                                             â”‚
â”‚  (Similarly: slack.db, notion.db, google_drive.db store their raw data)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ (17) Now extract activities
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”Œ BACKEND - Plugin System                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“¦ GitHub Plugin                                                           â”‚
â”‚                                                                             â”‚
â”‚  (18) extract_member_activities()                                           â”‚
â”‚                                                                             â”‚
â”‚  For each commit:                                                           â”‚
â”‚    (19) Lookup member:                                                      â”‚
â”‚         member = get_member_by_identifier(                                  â”‚
â”‚           'email', 'monica@tokamak.network'                                 â”‚
â”‚         )  # Returns member_id: 1                                           â”‚
â”‚                                                                             â”‚
â”‚    (20) Create activity record:                                             â”‚
â”‚         activity = {                                                        â”‚
â”‚           'activity_id': hash('github_commit_abc123'),                      â”‚
â”‚           'member_id': 1,                                                   â”‚
â”‚           'source_type': 'github',                                          â”‚
â”‚           'activity_type': 'commit',                                        â”‚
â”‚           'timestamp': '2025-11-03T10:30:00Z',                              â”‚
â”‚           'metadata': json.dumps({                                          â”‚
â”‚             'repository': 'Tokamak-zk-EVM',                                 â”‚
â”‚             'message': 'feat: add zk proof',                                â”‚
â”‚             'sha': 'abc123'                                                 â”‚
â”‚           })                                                                â”‚
â”‚         }                                                                   â”‚
â”‚                                                                             â”‚
â”‚  (21) INSERT OR IGNORE INTO member_activities                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ (22) Sync to main DB
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¾ UNIFIED DATABASE (main.db) â­                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Table: member_activities  (Cross-source unified view)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ activity_id â”‚ member_id â”‚ source â”‚ activity â”‚ timestamp â”‚ metadata  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ gh_abc123   â”‚ 1 (Monica)â”‚ github â”‚ commit   â”‚ 2025-11-03â”‚ {...}     â”‚ â”‚
â”‚  â”‚ gh_def456   â”‚ 2 (Bernardâ”‚ github â”‚ commit   â”‚ 2025-11-04â”‚ {...}     â”‚ â”‚
â”‚  â”‚ sl_ghi789   â”‚ 1 (Monica)â”‚ slack  â”‚ message  â”‚ 2025-11-03â”‚ {...}     â”‚ â”‚
â”‚  â”‚ ... (GitHub + Slack + Notion + Drive = 623 total activities) ...    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  (23) Data committed                                                        â”‚
â”‚  (24) Connection closed                                                     â”‚
â”‚                                                                             â”‚
â”‚  ğŸ’¡ This data is NOW available for Flow 1 (User Requests)!                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â–²
      â”‚ (25) Collection complete
      â”‚
     âœ… $ GitHub collection complete!
        â€¢ Repositories: 3
        â€¢ Commits: 51
        â€¢ Pull Requests: 12
        â€¢ Issues: 8
        â€¢ Synced to main.db: 71 activities
        â±ï¸  Duration: ~45 seconds
```

### System Architecture Summary

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Component Overview                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  âš›ï¸  Frontend (Next.js 14)                                   â”‚
    â”‚  â”œâ”€ Pages: Dashboard, Activities, Exports, Login            â”‚
    â”‚  â”œâ”€ Components: Navigation, ActivityCard, StatCard, etc.    â”‚
    â”‚  â”œâ”€ API Client: axios + React Query for data fetching       â”‚
    â”‚  â””â”€ Auth: Web3 wallet signature (MetaMask)                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ HTTPS: /api/v1/*
                         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  âš¡ Backend (FastAPI)                                        â”‚
    â”‚  â”œâ”€ main.py: App initialization, routing                    â”‚
    â”‚  â”œâ”€ API Endpoints:                                          â”‚
    â”‚  â”‚  â”œâ”€ /api/v1/members                                      â”‚
    â”‚  â”‚  â”œâ”€ /api/v1/activities  â­ (Most used)                  â”‚
    â”‚  â”‚  â”œâ”€ /api/v1/exports                                      â”‚
    â”‚  â”‚  â”œâ”€ /api/v1/stats                                        â”‚
    â”‚  â”‚  â””â”€ /health                                              â”‚
    â”‚  â””â”€ Database Manager: PostgreSQL/SQLite connections         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ SQL queries
                         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ğŸ˜ Main Database (PostgreSQL - Production)                  â”‚
    â”‚  ğŸ“¦ Schema: all_thing_eye_main                               â”‚
    â”‚  â”œâ”€ members (28 rows)                                        â”‚
    â”‚  â”œâ”€ member_identifiers (28 rows)                             â”‚
    â”‚  â”œâ”€ member_activities â­ (623 rows) - Unified cross-source  â”‚
    â”‚  â””â”€ data_collections (0 rows)                                â”‚
    â”‚                                                              â”‚
    â”‚  ğŸ’¡ Development: SQLite (main.db)                            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ğŸ”Œ Plugin System (Data Collection)                          â”‚
    â”‚                                                              â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚  ğŸ“¦ GitHub Plugin                                      â”‚ â”‚
    â”‚  â”‚     â€¢ Collect: commits, PRs, issues, reviews           â”‚ â”‚
    â”‚  â”‚     â€¢ Store: github.db / github schema (PostgreSQL)    â”‚ â”‚
    â”‚  â”‚     â€¢ Sync: extract_member_activities() â†’ main DB      â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚                 â”‚                                            â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚  ğŸ’¾ GitHub Database                                  â”‚   â”‚
    â”‚  â”‚  ğŸ˜ Schema: all_thing_eye_github (PostgreSQL Prod)   â”‚   â”‚
    â”‚  â”‚  ğŸ“¦ File: github.db (SQLite Dev)                     â”‚   â”‚
    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
    â”‚  â”‚  â”‚ Tables:                                         â”‚ â”‚   â”‚
    â”‚  â”‚  â”‚ â€¢ github_commits (sha, message, author, date)   â”‚ â”‚   â”‚
    â”‚  â”‚  â”‚ â€¢ github_pull_requests (number, title, state)   â”‚ â”‚   â”‚
    â”‚  â”‚  â”‚ â€¢ github_issues (number, title, labels)         â”‚ â”‚   â”‚
    â”‚  â”‚  â”‚ â€¢ github_reviews (pr_id, reviewer, state)       â”‚ â”‚   â”‚
    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚                                                              â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚  ğŸ“¦ Slack Plugin                                       â”‚ â”‚
    â”‚  â”‚     â€¢ Collect: messages, reactions, threads            â”‚ â”‚
    â”‚  â”‚     â€¢ Store: slack.db / slack schema (PostgreSQL)      â”‚ â”‚
    â”‚  â”‚     â€¢ Sync: extract_member_activities() â†’ main DB      â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚                 â”‚                                            â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚  ğŸ’¾ Slack Database                                   â”‚   â”‚
    â”‚  â”‚  ğŸ˜ Schema: all_thing_eye_slack (PostgreSQL Prod)    â”‚   â”‚
    â”‚  â”‚  ğŸ“¦ File: slack.db (SQLite Dev)                      â”‚   â”‚
    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
    â”‚  â”‚  â”‚ Tables:                                         â”‚ â”‚   â”‚
    â”‚  â”‚  â”‚ â€¢ slack_messages (ts, user, text, channel)      â”‚ â”‚   â”‚
    â”‚  â”‚  â”‚ â€¢ slack_reactions (message_ts, user, reaction)  â”‚ â”‚   â”‚
    â”‚  â”‚  â”‚ â€¢ slack_threads (thread_ts, parent_ts, replies) â”‚ â”‚   â”‚
    â”‚  â”‚  â”‚ â€¢ slack_users (user_id, name, email)            â”‚ â”‚   â”‚
    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚                                                              â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚  ğŸ“¦ Notion Plugin                                      â”‚ â”‚
    â”‚  â”‚     â€¢ Collect: pages, blocks, comments                 â”‚ â”‚
    â”‚  â”‚     â€¢ Store: notion.db / notion schema (PostgreSQL)    â”‚ â”‚
    â”‚  â”‚     â€¢ Sync: extract_member_activities() â†’ main DB      â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚                 â”‚                                            â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚  ğŸ’¾ Notion Database                                  â”‚   â”‚
    â”‚  â”‚  ğŸ˜ Schema: all_thing_eye_notion (PostgreSQL Prod)   â”‚   â”‚
    â”‚  â”‚  ğŸ“¦ File: notion.db (SQLite Dev)                     â”‚   â”‚
    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
    â”‚  â”‚  â”‚ Tables:                                         â”‚ â”‚   â”‚
    â”‚  â”‚  â”‚ â€¢ notion_pages (page_id, title, created_by)     â”‚ â”‚   â”‚
    â”‚  â”‚  â”‚ â€¢ notion_blocks (block_id, type, content)       â”‚ â”‚   â”‚
    â”‚  â”‚  â”‚ â€¢ notion_comments (comment_id, author, text)    â”‚ â”‚   â”‚
    â”‚  â”‚  â”‚ â€¢ notion_users (user_id, name, email)           â”‚ â”‚   â”‚
    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚                                                              â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚  ğŸ“¦ Google Drive Plugin                                â”‚ â”‚
    â”‚  â”‚     â€¢ Collect: files, changes, permissions             â”‚ â”‚
    â”‚  â”‚     â€¢ Store: google_drive.db / drive schema (PG)       â”‚ â”‚
    â”‚  â”‚     â€¢ Sync: extract_member_activities() â†’ main DB      â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚                 â”‚                                            â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚  ğŸ’¾ Google Drive Database                            â”‚   â”‚
    â”‚  â”‚  ğŸ˜ Schema: all_thing_eye_drive (PostgreSQL Prod)    â”‚   â”‚
    â”‚  â”‚  ğŸ“¦ File: google_drive.db (SQLite Dev)               â”‚   â”‚
    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
    â”‚  â”‚  â”‚ Tables:                                         â”‚ â”‚   â”‚
    â”‚  â”‚  â”‚ â€¢ drive_files (file_id, name, mime_type, owner) â”‚ â”‚   â”‚
    â”‚  â”‚  â”‚ â€¢ drive_changes (change_id, file_id, type)      â”‚ â”‚   â”‚
    â”‚  â”‚  â”‚ â€¢ drive_permissions (file_id, user, role)       â”‚ â”‚   â”‚
    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚                                                              â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚  ğŸ”„ Sync Flow (All Plugins)                            â”‚ â”‚
    â”‚  â”‚                                                        â”‚ â”‚
    â”‚  â”‚  1ï¸âƒ£ Plugin collects raw data from External API         â”‚ â”‚
    â”‚  â”‚  2ï¸âƒ£ Store in source-specific DB (preserve raw data)    â”‚ â”‚
    â”‚  â”‚  3ï¸âƒ£ extract_member_activities()                        â”‚ â”‚
    â”‚  â”‚     â€¢ Map external IDs â†’ member_id (via identifiers)  â”‚ â”‚
    â”‚  â”‚     â€¢ Transform to standard activity format           â”‚ â”‚
    â”‚  â”‚     â€¢ Generate activity_id hash (deduplication)       â”‚ â”‚
    â”‚  â”‚  4ï¸âƒ£ INSERT OR IGNORE into main.member_activities       â”‚ â”‚
    â”‚  â”‚     â€¢ Unified cross-source view                       â”‚ â”‚
    â”‚  â”‚     â€¢ Ready for frontend queries                      â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ HTTPS API calls
                         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ğŸŒ External Services                                        â”‚
    â”‚  â”œâ”€ GitHub API (GraphQL + REST)                             â”‚
    â”‚  â”œâ”€ Slack API (Web API)                                     â”‚
    â”‚  â”œâ”€ Notion API (REST)                                       â”‚
    â”‚  â””â”€ Google Drive API (REST)                                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Database Architecture Details

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Production Database Setup (PostgreSQL)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    PostgreSQL Server (RDS)
    â”œâ”€ Host: all-thing-eye.xxxxx.us-east-1.rds.amazonaws.com
    â”œâ”€ Port: 5432
    â””â”€ Databases (Schemas):
        â”‚
        â”œâ”€ ğŸ˜ all_thing_eye_main  â­ (Primary - Unified View)
        â”‚   â”œâ”€ members
        â”‚   â”œâ”€ member_identifiers
        â”‚   â”œâ”€ member_activities  â† Frontend queries this!
        â”‚   â””â”€ data_collections
        â”‚
        â”œâ”€ ğŸ˜ all_thing_eye_github  (Source Data)
        â”‚   â”œâ”€ github_commits
        â”‚   â”œâ”€ github_pull_requests
        â”‚   â”œâ”€ github_issues
        â”‚   â””â”€ github_reviews
        â”‚
        â”œâ”€ ğŸ˜ all_thing_eye_slack  (Source Data)
        â”‚   â”œâ”€ slack_messages
        â”‚   â”œâ”€ slack_reactions
        â”‚   â”œâ”€ slack_threads
        â”‚   â””â”€ slack_users
        â”‚
        â”œâ”€ ğŸ˜ all_thing_eye_notion  (Source Data)
        â”‚   â”œâ”€ notion_pages
        â”‚   â”œâ”€ notion_blocks
        â”‚   â”œâ”€ notion_comments
        â”‚   â””â”€ notion_users
        â”‚
        â””â”€ ğŸ˜ all_thing_eye_drive  (Source Data)
            â”œâ”€ drive_files
            â”œâ”€ drive_changes
            â””â”€ drive_permissions

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Development Database Setup (SQLite)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    data/databases/
    â”œâ”€ ğŸ“¦ main.db  â­ (Primary - Unified View)
    â”‚   â”œâ”€ members
    â”‚   â”œâ”€ member_identifiers
    â”‚   â”œâ”€ member_activities  â† Frontend queries this!
    â”‚   â””â”€ data_collections
    â”‚
    â”œâ”€ ğŸ“¦ github.db  (Source Data)
    â”‚   â”œâ”€ github_commits
    â”‚   â”œâ”€ github_pull_requests
    â”‚   â”œâ”€ github_issues
    â”‚   â””â”€ github_reviews
    â”‚
    â”œâ”€ ğŸ“¦ slack.db  (Source Data)
    â”‚   â”œâ”€ slack_messages
    â”‚   â”œâ”€ slack_reactions
    â”‚   â”œâ”€ slack_threads
    â”‚   â””â”€ slack_users
    â”‚
    â”œâ”€ ğŸ“¦ notion.db  (Source Data)
    â”‚   â”œâ”€ notion_pages
    â”‚   â”œâ”€ notion_blocks
    â”‚   â”œâ”€ notion_comments
    â”‚   â””â”€ notion_users
    â”‚
    â””â”€ ğŸ“¦ google_drive.db  (Source Data)
        â”œâ”€ drive_files
        â”œâ”€ drive_changes
        â””â”€ drive_permissions
```

### Plugin â†’ Database Communication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              How Plugins Communicate with Databases                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Example: GitHub Plugin Data Flow

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ğŸ“¦ GitHub Plugin (src/plugins/github_plugin.py)            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ (1) __init__()
                      â”‚     â€¢ Load config
                      â”‚     â€¢ Authenticate
                      â”‚     â€¢ Initialize DB connection
                      â”‚
                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ğŸ”§ Database Manager (core/database.py)                     â”‚
    â”‚                                                             â”‚
    â”‚  def get_connection(db_name: str):                          â”‚
    â”‚    if ENV == 'production':                                  â”‚
    â”‚      # PostgreSQL connection                                â”‚
    â”‚      conn = psycopg2.connect(                               â”‚
    â”‚        host='all-thing-eye.rds.amazonaws.com',              â”‚
    â”‚        dbname=f'all_thing_eye_{db_name}',                   â”‚
    â”‚        user='admin',                                        â”‚
    â”‚        password=os.getenv('DB_PASSWORD')                    â”‚
    â”‚      )                                                      â”‚
    â”‚    else:                                                    â”‚
    â”‚      # SQLite connection (dev)                              â”‚
    â”‚      conn = sqlite3.connect(f'data/databases/{db_name}.db') â”‚
    â”‚    return conn                                              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ (2) collect_data()
                      â”‚     â€¢ Fetch from GitHub API
                      â”‚     â€¢ Transform data
                      â”‚
                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ğŸ’¾ GitHub Database (github.db / github schema)             â”‚
    â”‚                                                             â”‚
    â”‚  conn = db_manager.get_connection('github')                 â”‚
    â”‚                                                             â”‚
    â”‚  # Insert raw data                                          â”‚
    â”‚  conn.execute("""                                           â”‚
    â”‚    INSERT OR IGNORE INTO github_commits                     â”‚
    â”‚    (sha, message, author_email, committed_date, repository) â”‚
    â”‚    VALUES (?, ?, ?, ?, ?)                                   â”‚
    â”‚  """, (sha, msg, email, date, repo))                        â”‚
    â”‚                                                             â”‚
    â”‚  conn.commit()                                              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ (3) extract_member_activities()
                      â”‚     â€¢ Read from github DB
                      â”‚     â€¢ Map author â†’ member_id
                      â”‚     â€¢ Create activity records
                      â”‚
                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ğŸ“Š Main Database (main.db / main schema)                   â”‚
    â”‚                                                             â”‚
    â”‚  main_conn = db_manager.get_connection('main')              â”‚
    â”‚                                                             â”‚
    â”‚  # Sync activities                                          â”‚
    â”‚  for commit in github_commits:                              â”‚
    â”‚    member_id = get_member_by_email(commit.author_email)     â”‚
    â”‚    activity_id = hash(f"github_commit_{commit.sha}")        â”‚
    â”‚                                                             â”‚
    â”‚    main_conn.execute("""                                    â”‚
    â”‚      INSERT OR IGNORE INTO member_activities                â”‚
    â”‚      (activity_id, member_id, source_type, activity_type,   â”‚
    â”‚       timestamp, metadata)                                  â”‚
    â”‚      VALUES (?, ?, 'github', 'commit', ?, ?)                â”‚
    â”‚    """, (activity_id, member_id, timestamp, metadata))      â”‚
    â”‚                                                             â”‚
    â”‚  main_conn.commit()                                         â”‚
    â”‚                                                             â”‚
    â”‚  ğŸ’¡ NOW available for frontend queries!                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Key Points:
â€¢ Each plugin manages 2 DB connections: source DB + main DB
â€¢ Source DB: Preserve raw data (for re-processing, debugging)
â€¢ Main DB: Unified view (for fast cross-source queries)
â€¢ Database Manager abstracts SQLite â†” PostgreSQL differences
â€¢ Same code runs in dev (SQLite) and prod (PostgreSQL)
```

### Key Design Decisions

| Aspect               | Decision                            | Rationale                                         |
| -------------------- | ----------------------------------- | ------------------------------------------------- |
| **Multi-DB**         | 5 databases (main + 4 sources)      | Preserve raw data, enable re-processing           |
| **Activity ID**      | SHA256 hash                         | Prevents duplicates across re-collections         |
| **Member Index**     | Normalized via `member_identifiers` | Maps GitHub/Slack/etc IDs to single member        |
| **Timezone**         | All UTC, display as KST             | Consistent storage, flexible display              |
| **Auth**             | Web3 wallet signature               | No passwords, fits blockchain company culture     |
| **Plugin Interface** | Abstract base class                 | Easy to add new data sources (Jira, Linear, etc.) |

### Performance Characteristics

| Operation                   | Time                                     | Notes                                           |
| --------------------------- | ---------------------------------------- | ----------------------------------------------- |
| **User Request** (Read)     | ~100-300ms (local)<br>~500-1000ms (prod) | Includes network, SQL query, JSON serialization |
| **Data Collection** (Write) | ~30-60 sec per source                    | Depends on API rate limits, data volume         |
| **Database Size**           | ~50 MB (current)                         | Will scale to ~500 MB with 1 year of data       |
| **API Latency**             | ~50-100ms                                | FastAPI is very fast                            |

---

**Above diagram shows STATIC architecture. Below shows DYNAMIC data flows â†’**

---

### Detailed Request Flow

#### Scenario 1: User Views Activities (Read Operation)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    End-to-End Request Flow                                  â”‚
â”‚                    (User â†’ Frontend â†’ Backend â†’ Database â†’ Response)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 1: User Interaction
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User in Browser       â”‚
â”‚  â€¢ Clicks "Activities" â”‚
â”‚  â€¢ Selects filters     â”‚
â”‚  â€¢ Date: Last week     â”‚
â”‚  â€¢ Source: GitHub      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (1) Navigate to /activities
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend: Activities Page (activities/page.tsx)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  useEffect(() => {                                     â”‚
â”‚    // (2) Trigger data fetch on mount                 â”‚
â”‚    fetchActivities({                                   â”‚
â”‚      source: 'github',                                 â”‚
â”‚      start_date: '2025-11-01',                         â”‚
â”‚      end_date: '2025-11-07'                            â”‚
â”‚    })                                                  â”‚
â”‚  }, [filters])                                         â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (3) Call API client
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Client (lib/api.ts)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  async fetchActivities(params) {                       â”‚
â”‚    // (4) HTTP GET request                            â”‚
â”‚    return await axios.get(                             â”‚
â”‚      'http://localhost:8000/api/v1/activities',        â”‚
â”‚      { params }                                        â”‚
â”‚    )                                                   â”‚
â”‚  }                                                     â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (5) HTTP GET /api/v1/activities?source=github&start_date=...
            â”‚     (Network request)
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend: FastAPI Server (backend/main.py)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â€¢ (6) Receive HTTP request                                     â”‚
â”‚  â€¢ Parse query parameters                                       â”‚
â”‚  â€¢ Route to appropriate endpoint                                â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (7) Route to activities endpoint
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend: Activities Router (api/v1/activities.py)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  @router.get("/")                                               â”‚
â”‚  async def get_activities(                                      â”‚
â”‚    source: str = None,                                          â”‚
â”‚    start_date: str = None,                                      â”‚
â”‚    end_date: str = None                                         â”‚
â”‚  ):                                                             â”‚
â”‚    # (8) Build SQL query                                        â”‚
â”‚    query = """                                                  â”‚
â”‚      SELECT * FROM member_activities                            â”‚
â”‚      WHERE source_type = ?                                      â”‚
â”‚        AND timestamp >= ?                                       â”‚
â”‚        AND timestamp <= ?                                       â”‚
â”‚      ORDER BY timestamp DESC                                    â”‚
â”‚    """                                                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (9) Execute SQL query
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database Manager (core/database.py)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  def query_activities(source, start, end):                      â”‚
â”‚    # (10) Open database connection                              â”‚
â”‚    conn = sqlite3.connect('data/databases/main.db')             â”‚
â”‚                                                                 â”‚
â”‚    # (11) Execute query                                         â”‚
â”‚    cursor = conn.execute(query, (source, start, end))           â”‚
â”‚                                                                 â”‚
â”‚    # (12) Fetch results                                         â”‚
â”‚    rows = cursor.fetchall()                                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (13) Query hits main.db
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database: main.db                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Table: member_activities                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ activity_id â”‚ member_id â”‚ source_type â”‚ activity_type ... â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ abc123...   â”‚ 1         â”‚ github      â”‚ commit        ... â”‚ â”‚
â”‚  â”‚ def456...   â”‚ 2         â”‚ github      â”‚ pr            ... â”‚ â”‚
â”‚  â”‚ ghi789...   â”‚ 1         â”‚ github      â”‚ issue         ... â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  (14) Database returns 150 matching rows                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (15) Return rows to Database Manager
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database Manager (core/database.py)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  # (16) Transform to dict                                       â”‚
â”‚  results = [dict(row) for row in rows]                          â”‚
â”‚                                                                 â”‚
â”‚  # (17) Close connection                                        â”‚
â”‚  conn.close()                                                   â”‚
â”‚                                                                 â”‚
â”‚  return results                                                 â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (18) Return to Activities Router
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend: Activities Router (api/v1/activities.py)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  # (19) Format response                                         â”‚
â”‚  return {                                                       â”‚
â”‚    "status": "success",                                         â”‚
â”‚    "data": results,  # 150 activities                           â”‚
â”‚    "count": len(results)                                        â”‚
â”‚  }                                                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (20) HTTP 200 OK + JSON response
            â”‚     (Network response)
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Client (lib/api.ts)                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  // (21) Receive response                                  â”‚
â”‚  const response = await axios.get(...)                     â”‚
â”‚  const activities = response.data.data                     â”‚
â”‚                                                            â”‚
â”‚  // (22) Cache with React Query                            â”‚
â”‚  queryClient.setQueryData(['activities', params],          â”‚
â”‚    activities                                              â”‚
â”‚  )                                                         â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (23) Return data to component
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend: Activities Page (activities/page.tsx)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  // (24) Component receives data                           â”‚
â”‚  const { data: activities } = useQuery(...)                â”‚
â”‚                                                            â”‚
â”‚  // (25) React re-renders with new data                    â”‚
â”‚  return (                                                  â”‚
â”‚    <div>                                                   â”‚
â”‚      {activities.map(activity => (                         â”‚
â”‚        <ActivityCard key={activity.id}                     â”‚
â”‚          activity={activity} />                            â”‚
â”‚      ))}                                                   â”‚
â”‚    </div>                                                  â”‚
â”‚  )                                                         â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (26) Browser renders UI
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Sees Results     â”‚
â”‚  â€¢ 150 activities      â”‚
â”‚  â€¢ Rendered on screen  â”‚
â”‚  â€¢ Can scroll/filter   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Total Time: ~100-300ms (local), ~500-1000ms (production)
```

#### Scenario 2: Data Collection (Write Operation)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Data Collection Flow                                     â”‚
â”‚                    (Plugin â†’ External API â†’ Source DB â†’ Main DB)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 1: Trigger Collection
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Developer/Cron Job    â”‚
â”‚  Runs command:         â”‚
â”‚  python tests/         â”‚
â”‚    test_github_plugin  â”‚
â”‚    .py --last-week     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (1) Execute Python script
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Test Script (tests/test_github_plugin.py)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  # (2) Initialize plugin                                        â”‚
â”‚  plugin = GitHubPlugin(config)                                  â”‚
â”‚                                                                 â”‚
â”‚  # (3) Set date range                                           â”‚
â”‚  start_date = datetime(2025, 11, 1)  # Friday                   â”‚
â”‚  end_date = datetime(2025, 11, 7)    # Thursday                 â”‚
â”‚                                                                 â”‚
â”‚  # (4) Call collect_data                                        â”‚
â”‚  plugin.collect_data(start_date, end_date)                      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (5) Plugin starts collection
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub Plugin (src/plugins/github_plugin.py)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  def collect_data(self, start_date, end_date):                  â”‚
â”‚    # (6) Authenticate with GitHub                               â”‚
â”‚    headers = {                                                  â”‚
â”‚      'Authorization': f'token {self.token}'                     â”‚
â”‚    }                                                            â”‚
â”‚                                                                 â”‚
â”‚    # (7) Prepare GraphQL query                                  â”‚
â”‚    query = """                                                  â”‚
â”‚      query {                                                    â”‚
â”‚        repository(owner: "tokamak-network",                     â”‚
â”‚                   name: "Tokamak-zk-EVM") {                     â”‚
â”‚          defaultBranchRef {                                     â”‚
â”‚            target {                                             â”‚
â”‚              ... on Commit {                                    â”‚
â”‚                history(since: "2025-11-01T00:00:00Z",           â”‚
â”‚                       until: "2025-11-07T23:59:59Z") {          â”‚
â”‚                  edges {                                        â”‚
â”‚                    node {                                       â”‚
â”‚                      oid, message, author, committedDate        â”‚
â”‚                    }                                            â”‚
â”‚                  }                                              â”‚
â”‚                }                                                â”‚
â”‚              }                                                  â”‚
â”‚            }                                                    â”‚
â”‚          }                                                      â”‚
â”‚        }                                                        â”‚
â”‚      }                                                          â”‚
â”‚    """                                                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (8) HTTP POST to GitHub GraphQL API
            â”‚     https://api.github.com/graphql
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  External Service: GitHub API                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â€¢ (9) Receive GraphQL query                                    â”‚
â”‚  â€¢ Authenticate token                                           â”‚
â”‚  â€¢ Query Git repository data                                    â”‚
â”‚  â€¢ Apply date filters                                           â”‚
â”‚                                                                 â”‚
â”‚  (10) Return commit data:                                       â”‚
â”‚  {                                                              â”‚
â”‚    "data": {                                                    â”‚
â”‚      "repository": {                                            â”‚
â”‚        "defaultBranchRef": {                                    â”‚
â”‚          "target": {                                            â”‚
â”‚            "history": {                                         â”‚
â”‚              "edges": [                                         â”‚
â”‚                {                                                â”‚
â”‚                  "node": {                                      â”‚
â”‚                    "oid": "abc123...",                          â”‚
â”‚                    "message": "feat: add zk proof",             â”‚
â”‚                    "author": {                                  â”‚
â”‚                      "name": "Monica",                          â”‚
â”‚                      "email": "monica@tokamak.network"          â”‚
â”‚                    },                                           â”‚
â”‚                    "committedDate": "2025-11-03T10:30:00Z"      â”‚
â”‚                  }                                              â”‚
â”‚                },                                               â”‚
â”‚                // ... 50 more commits                           â”‚
â”‚              ]                                                  â”‚
â”‚            }                                                    â”‚
â”‚          }                                                      â”‚
â”‚        }                                                        â”‚
â”‚      }                                                          â”‚
â”‚    }                                                            â”‚
â”‚  }                                                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (11) Response received by plugin
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub Plugin (src/plugins/github_plugin.py)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  # (12) Parse response                                          â”‚
â”‚  raw_commits = response['data']['repository']...                â”‚
â”‚                                                                 â”‚
â”‚  # (13) Transform to standard format                            â”‚
â”‚  for commit in raw_commits:                                     â”‚
â”‚    commit_record = {                                            â”‚
â”‚      'sha': commit['oid'],                                      â”‚
â”‚      'message': commit['message'],                              â”‚
â”‚      'author_name': commit['author']['name'],                   â”‚
â”‚      'author_email': commit['author']['email'],                 â”‚
â”‚      'committed_date': commit['committedDate'],                 â”‚
â”‚      'repository': 'Tokamak-zk-EVM',                            â”‚
â”‚      'additions': commit.get('additions', 0),                   â”‚
â”‚      'deletions': commit.get('deletions', 0)                    â”‚
â”‚    }                                                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (14) Store in source database
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub Plugin: Store in github.db                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  # (15) Open connection to github.db                            â”‚
â”‚  conn = sqlite3.connect('data/databases/github.db')             â”‚
â”‚                                                                 â”‚
â”‚  # (16) Insert commits (with deduplication)                     â”‚
â”‚  for commit_record in commits:                                  â”‚
â”‚    conn.execute("""                                             â”‚
â”‚      INSERT OR IGNORE INTO github_commits                       â”‚
â”‚      (sha, message, author_email, committed_date,               â”‚
â”‚       repository, additions, deletions)                         â”‚
â”‚      VALUES (?, ?, ?, ?, ?, ?, ?)                               â”‚
â”‚    """, (                                                       â”‚
â”‚      commit_record['sha'],                                      â”‚
â”‚      commit_record['message'],                                  â”‚
â”‚      commit_record['author_email'],                             â”‚
â”‚      commit_record['committed_date'],                           â”‚
â”‚      commit_record['repository'],                               â”‚
â”‚      commit_record['additions'],                                â”‚
â”‚      commit_record['deletions']                                 â”‚
â”‚    ))                                                           â”‚
â”‚                                                                 â”‚
â”‚  conn.commit()                                                  â”‚
â”‚  conn.close()                                                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (17) Data stored in github.db
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database: github.db                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Table: github_commits                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ sha      â”‚ message     â”‚ author_email      â”‚ committed... â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ abc123.. â”‚ feat: add.. â”‚ monica@tokamak... â”‚ 2025-11-03.. â”‚ â”‚
â”‚  â”‚ def456.. â”‚ fix: solve..â”‚ bernard@tokamak.. â”‚ 2025-11-04.. â”‚ â”‚
â”‚  â”‚ ghi789.. â”‚ docs: upd.. â”‚ monica@tokamak... â”‚ 2025-11-05.. â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  (18) 51 commits stored successfully                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (19) Continue to extract activities
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub Plugin: Extract Member Activities                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  # (20) Read commits from github.db                             â”‚
â”‚  commits = conn.execute("""                                     â”‚
â”‚    SELECT * FROM github_commits                                 â”‚
â”‚    WHERE committed_date >= ? AND committed_date <= ?            â”‚
â”‚  """, (start_date, end_date))                                   â”‚
â”‚                                                                 â”‚
â”‚  # (21) Map author to member                                    â”‚
â”‚  for commit in commits:                                         â”‚
â”‚    # Lookup member by email                                     â”‚
â”‚    member = get_member_by_identifier(                           â”‚
â”‚      'email',                                                   â”‚
â”‚      commit['author_email']                                     â”‚
â”‚    )                                                            â”‚
â”‚                                                                 â”‚
â”‚    # (22) Create activity record                                â”‚
â”‚    activity = {                                                 â”‚
â”‚      'activity_id': hash(                                       â”‚
â”‚        f"github_commit_{commit['sha']}"                         â”‚
â”‚      ),                                                         â”‚
â”‚      'member_id': member.id,                                    â”‚
â”‚      'source_type': 'github',                                   â”‚
â”‚      'activity_type': 'commit',                                 â”‚
â”‚      'timestamp': commit['committed_date'],                     â”‚
â”‚      'metadata': json.dumps({                                   â”‚
â”‚        'repository': commit['repository'],                      â”‚
â”‚        'message': commit['message'],                            â”‚
â”‚        'additions': commit['additions'],                        â”‚
â”‚        'deletions': commit['deletions'],                        â”‚
â”‚        'sha': commit['sha']                                     â”‚
â”‚      })                                                         â”‚
â”‚    }                                                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (23) Sync to main database
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub Plugin: Sync to main.db                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  # (24) Open connection to main.db                              â”‚
â”‚  main_conn = sqlite3.connect('data/databases/main.db')          â”‚
â”‚                                                                 â”‚
â”‚  # (25) Insert activities (with deduplication)                  â”‚
â”‚  for activity in activities:                                    â”‚
â”‚    main_conn.execute("""                                        â”‚
â”‚      INSERT OR IGNORE INTO member_activities                    â”‚
â”‚      (activity_id, member_id, source_type,                      â”‚
â”‚       activity_type, timestamp, metadata)                       â”‚
â”‚      VALUES (?, ?, ?, ?, ?, ?)                                  â”‚
â”‚    """, (                                                       â”‚
â”‚      activity['activity_id'],                                   â”‚
â”‚      activity['member_id'],                                     â”‚
â”‚      activity['source_type'],                                   â”‚
â”‚      activity['activity_type'],                                 â”‚
â”‚      activity['timestamp'],                                     â”‚
â”‚      activity['metadata']                                       â”‚
â”‚    ))                                                           â”‚
â”‚                                                                 â”‚
â”‚  main_conn.commit()                                             â”‚
â”‚  main_conn.close()                                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (26) Data synced to main.db
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database: main.db                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Table: member_activities                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ activity_idâ”‚memberâ”‚sourceâ”‚activityâ”‚timestampâ”‚metadata    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ gh_abc123..â”‚ 1    â”‚githubâ”‚commit  â”‚2025-11..â”‚{"repo":..} â”‚ â”‚
â”‚  â”‚ gh_def456..â”‚ 2    â”‚githubâ”‚commit  â”‚2025-11..â”‚{"repo":..} â”‚ â”‚
â”‚  â”‚ sl_ghi789..â”‚ 1    â”‚slack â”‚message â”‚2025-11..â”‚{"text":..} â”‚ â”‚
â”‚  â”‚ gh_jkl012..â”‚ 3    â”‚githubâ”‚pr      â”‚2025-11..â”‚{"title"..} â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  (27) 51 GitHub activities + 200 Slack + 30 Notion             â”‚
â”‚       = 281 total activities in unified table                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ (28) Collection complete
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Console Output:                       â”‚
â”‚  âœ… GitHub collection complete         â”‚
â”‚  â€¢ Repositories: 3                     â”‚
â”‚  â€¢ Commits: 51                         â”‚
â”‚  â€¢ Pull Requests: 12                   â”‚
â”‚  â€¢ Issues: 8                           â”‚
â”‚  â€¢ Synced to main.db: 71 activities    â”‚
â”‚  â±ï¸  Duration: 45 seconds              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Next Steps:
- Repeat for Slack Plugin (collect messages, reactions, threads)
- Repeat for Notion Plugin (collect pages, comments)
- Repeat for Google Drive Plugin (collect files, changes)
- All data available in main.db for frontend queries
```

### Key Takeaways

**Read Operations (User Requests):**

1. User interacts with frontend UI
2. Frontend calls API client
3. API client makes HTTP request to backend
4. Backend routes to appropriate endpoint
5. Endpoint queries database
6. Database returns results
7. Backend formats and returns JSON
8. Frontend receives and displays data

**Write Operations (Data Collection):**

1. Script/cron triggers plugin
2. Plugin authenticates with external API
3. External API returns raw data
4. Plugin transforms data to standard format
5. Plugin stores in source-specific database (github.db, slack.db)
6. Plugin extracts member activities
7. Plugin syncs activities to main.db (unified view)
8. Data now available for frontend queries

**Data Deduplication:**

- Source DBs: Use unique constraints (e.g., `sha` for commits, `message_ts` for Slack)
- Main DB: Use `activity_id` hash (prevents duplicates across re-collections)
- SQL: `INSERT OR IGNORE` ensures idempotent operations

---

## ğŸ”§ Backend Architecture

### Framework: FastAPI

**Why FastAPI?**

- âš¡ High performance (async/await)
- ğŸ“š Automatic API documentation (OpenAPI)
- ğŸ”’ Built-in validation (Pydantic)
- ğŸ Modern Python 3.9+ features

### Project Structure

```
backend/
â”œâ”€â”€ main.py                      # FastAPI application entry point
â”œâ”€â”€ api/                         # API endpoints
â”‚   â””â”€â”€ v1/
â”‚       â”œâ”€â”€ members.py           # Member management endpoints
â”‚       â”œâ”€â”€ activities.py        # Activity query endpoints
â”‚       â”œâ”€â”€ exports.py           # Data export endpoints (CSV, ZIP)
â”‚       â””â”€â”€ stats.py             # Statistics endpoints
â”œâ”€â”€ models/                      # Pydantic models
â”‚   â”œâ”€â”€ member.py
â”‚   â”œâ”€â”€ activity.py
â”‚   â””â”€â”€ export.py
â””â”€â”€ core/
    â”œâ”€â”€ config.py                # Configuration management
    â””â”€â”€ database.py              # Database connection management
```

### API Design

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RESTful API Endpoints                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  GET  /api/v1/members                                       â”‚
â”‚       â†’ List all team members                               â”‚
â”‚                                                             â”‚
â”‚  GET  /api/v1/members/{member_id}/activities                â”‚
â”‚       â†’ Get activities for specific member                  â”‚
â”‚                                                             â”‚
â”‚  GET  /api/v1/activities                                    â”‚
â”‚       â†’ Query activities with filters                       â”‚
â”‚       Parameters: source, type, start_date, end_date        â”‚
â”‚                                                             â”‚
â”‚  GET  /api/v1/stats/summary                                 â”‚
â”‚       â†’ Get overall statistics                              â”‚
â”‚                                                             â”‚
â”‚  GET  /api/v1/exports/tables                                â”‚
â”‚       â†’ List all exportable tables                          â”‚
â”‚                                                             â”‚
â”‚  GET  /api/v1/exports/tables/{source}/{table}/csv           â”‚
â”‚       â†’ Export single table as CSV                          â”‚
â”‚                                                             â”‚
â”‚  POST /api/v1/exports/bulk                                  â”‚
â”‚       â†’ Export multiple tables as ZIP                       â”‚
â”‚                                                             â”‚
â”‚  GET  /health                                               â”‚
â”‚       â†’ Health check endpoint                               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Plugin System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              DataSourcePlugin (Abstract Base)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Abstract Methods:                                          â”‚
â”‚  â”œâ”€ collect_data(start_date, end_date)                     â”‚
â”‚  â”œâ”€ extract_member_activities(raw_data)                    â”‚
â”‚  â”œâ”€ get_db_schema()                                         â”‚
â”‚  â””â”€ validate_config()                                       â”‚
â”‚                                                             â”‚
â”‚  Concrete Methods:                                          â”‚
â”‚  â”œâ”€ sync_to_main_db()                                       â”‚
â”‚  â””â”€ get_latest_collection_timestamp()                       â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ Implements
                    â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚               â”‚               â”‚               â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚ GitHub â”‚    â”‚   Slack   â”‚   â”‚  Notion  â”‚   â”‚  Google  â”‚
â”‚ Plugin â”‚    â”‚  Plugin   â”‚   â”‚  Plugin  â”‚   â”‚  Drive   â”‚
â”‚        â”‚    â”‚           â”‚   â”‚          â”‚   â”‚  Plugin  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Each plugin:
1. Authenticates with external service
2. Fetches raw data via API
3. Transforms data to standard format
4. Stores in source-specific database
5. Syncs to main.db (unified view)
```

### Plugin Lifecycle

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Data Collection Flow                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  1. Plugin Initialize â”‚
        â”‚  â€¢ Load config        â”‚
        â”‚  â€¢ Validate API keys  â”‚
        â”‚  â€¢ Setup database     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  2. Collect Raw Data  â”‚
        â”‚  â€¢ API calls          â”‚
        â”‚  â€¢ Pagination         â”‚
        â”‚  â€¢ Rate limiting      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  3. Transform Data    â”‚
        â”‚  â€¢ Normalize format   â”‚
        â”‚  â€¢ Extract activities â”‚
        â”‚  â€¢ Map to members     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  4. Store Source DB   â”‚
        â”‚  â€¢ Insert/Update      â”‚
        â”‚  â€¢ Handle duplicates  â”‚
        â”‚  â€¢ Log errors         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  5. Sync to Main DB   â”‚
        â”‚  â€¢ Unified activities â”‚
        â”‚  â€¢ Cross-source view  â”‚
        â”‚  â€¢ AI-ready format    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’» Frontend Architecture

### Framework: Next.js 14 (App Router)

**Why Next.js?**

- âš¡ Server-Side Rendering (SSR) & Static Generation
- ğŸ¯ File-based routing (intuitive structure)
- ğŸ”„ API routes (optional backend)
- ğŸ“¦ Optimized bundle sizes
- ğŸ¨ Built-in CSS/styling support

### Project Structure

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                     # Next.js 14 App Router
â”‚   â”‚   â”œâ”€â”€ layout.tsx           # Root layout with navigation
â”‚   â”‚   â”œâ”€â”€ page.tsx             # Dashboard (home page)
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx         # Web3 login page
â”‚   â”‚   â”œâ”€â”€ activities/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx         # Activities listing
â”‚   â”‚   â””â”€â”€ exports/
â”‚   â”‚       â””â”€â”€ page.tsx         # Data export interface
â”‚   â”‚
â”‚   â”œâ”€â”€ components/              # Reusable React components
â”‚   â”‚   â”œâ”€â”€ Navigation.tsx       # Main navigation bar
â”‚   â”‚   â”œâ”€â”€ AuthGuard.tsx        # Authentication wrapper
â”‚   â”‚   â”œâ”€â”€ Web3Provider.tsx     # Wagmi configuration
â”‚   â”‚   â”œâ”€â”€ ActivityCard.tsx     # Activity display component
â”‚   â”‚   â””â”€â”€ StatCard.tsx         # Statistics card component
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                     # Utility libraries
â”‚   â”‚   â”œâ”€â”€ api.ts               # Backend API client
â”‚   â”‚   â””â”€â”€ auth.ts              # Web3 authentication logic
â”‚   â”‚
â”‚   â””â”€â”€ types/                   # TypeScript type definitions
â”‚       â”œâ”€â”€ activity.ts
â”‚       â””â”€â”€ member.ts
â”‚
â”œâ”€â”€ public/                      # Static assets
â””â”€â”€ package.json                 # Dependencies
```

### Page Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        App Router Flow                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User visits URL
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   layout.tsx        â”‚  â† Root layout (always rendered)
â”‚   â€¢ Navigation      â”‚
â”‚   â€¢ Web3Provider    â”‚
â”‚   â€¢ AuthGuard       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â”€ / â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Dashboard (page.tsx)
           â”‚                                   â€¢ Statistics cards
           â”‚                                   â€¢ Recent activities
           â”‚                                   â€¢ Quick actions
           â”‚
           â”œâ”€â”€â”€ /login â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Login (login/page.tsx)
           â”‚                                   â€¢ MetaMask connection
           â”‚                                   â€¢ Wallet signature
           â”‚                                   â€¢ Admin verification
           â”‚
           â”œâ”€â”€â”€ /activities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Activities (activities/page.tsx)
           â”‚                                   â€¢ Activity feed
           â”‚                                   â€¢ Filters (source, type, date)
           â”‚                                   â€¢ Search
           â”‚
           â””â”€â”€â”€ /exports â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Exports (exports/page.tsx)
                                               â€¢ Table selection
                                               â€¢ Bulk download
                                               â€¢ CSV generation
```

### Component Hierarchy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Root Layout                             â”‚
â”‚  (Web3Provider + AuthGuard)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Navigation Component                     â”‚ â”‚
â”‚  â”‚  â€¢ Logo                                               â”‚ â”‚
â”‚  â”‚  â€¢ Menu items (Dashboard, Activities, Exports)        â”‚ â”‚
â”‚  â”‚  â€¢ Wallet address display                             â”‚ â”‚
â”‚  â”‚  â€¢ Logout button                                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Page Content (Dynamic)                   â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚  Dashboard Page:                                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ StatCard (Total Members)                         â”‚ â”‚
â”‚  â”‚  â”œâ”€ StatCard (Total Activities)                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ StatCard (Active Projects)                       â”‚ â”‚
â”‚  â”‚  â””â”€ RecentActivitiesList                             â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚  Activities Page:                                     â”‚ â”‚
â”‚  â”‚  â”œâ”€ FilterBar (Source, Type, Date)                   â”‚ â”‚
â”‚  â”‚  â”œâ”€ SearchInput                                       â”‚ â”‚
â”‚  â”‚  â””â”€ ActivityCard[] (list)                            â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚  Exports Page:                                        â”‚ â”‚
â”‚  â”‚  â”œâ”€ TableSelector (checkboxes)                       â”‚ â”‚
â”‚  â”‚  â”œâ”€ BulkActionButtons (Select All, Download ZIP)     â”‚ â”‚
â”‚  â”‚  â””â”€ TableCard[] (individual exports)                 â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### State Management

**Strategy: React Hooks + Context**

```typescript
// No Redux needed - keep it simple!

// 1. Server State: React Query (TanStack Query)
//    - API data fetching
//    - Automatic caching
//    - Background refetching

// 2. Client State: React Hooks
//    - useState for local component state
//    - useEffect for side effects

// 3. Global State: React Context (minimal)
//    - Authentication state
//    - Theme preferences (if added)

// 4. Form State: React Hook Form
//    - Filter forms
//    - Export selections
```

---

## ğŸ”„ Data Flow

### Data Collection Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             End-to-End Data Collection Flow                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. Scheduled/Manual Trigger
   â”‚
   â”œâ”€ Cron job (production)
   â””â”€ CLI script (development)
        python tests/test_github_plugin.py --last-week

2. Plugin Execution
   â”‚
   â”œâ”€â–¶ [GitHub Plugin]
   â”‚   â”‚
   â”‚   â”œâ”€ Fetch commits (GraphQL API)
   â”‚   â”œâ”€ Fetch PRs (REST API)
   â”‚   â”œâ”€ Fetch issues (REST API)
   â”‚   â””â”€ Store in github.db
   â”‚
   â”œâ”€â–¶ [Slack Plugin]
   â”‚   â”‚
   â”‚   â”œâ”€ Fetch messages (conversations.history)
   â”‚   â”œâ”€ Fetch reactions (reactions.get)
   â”‚   â”œâ”€ Fetch threads (conversations.replies)
   â”‚   â””â”€ Store in slack.db
   â”‚
   â”œâ”€â–¶ [Notion Plugin]
   â”‚   â”‚
   â”‚   â”œâ”€ Search pages (search API)
   â”‚   â”œâ”€ Fetch blocks (blocks.children)
   â”‚   â”œâ”€ Fetch comments (comments.list)
   â”‚   â””â”€ Store in notion.db
   â”‚
   â””â”€â–¶ [Google Drive Plugin]
       â”‚
       â”œâ”€ Fetch files (files.list)
       â”œâ”€ Fetch changes (changes.list)
       â”œâ”€ Fetch shares (permissions.list)
       â””â”€ Store in google_drive.db

3. Data Normalization
   â”‚
   â””â”€â–¶ Each plugin transforms raw data to:
       {
         member_id: int,
         source_type: 'github' | 'slack' | 'notion' | 'google_drive',
         activity_type: 'commit' | 'message' | 'pr' | ...,
         timestamp: ISO 8601,
         metadata: JSON
       }

4. Synchronization to Main DB
   â”‚
   â””â”€â–¶ INSERT OR IGNORE INTO member_activities
       â€¢ Unified cross-source view
       â€¢ Deduplicated by activity_id
       â€¢ Ready for frontend/AI consumption

5. Available for Frontend
   â”‚
   â””â”€â–¶ API endpoints serve data
       â€¢ Real-time queries
       â€¢ Filtered results
       â€¢ Aggregated statistics
```

### Frontend Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Frontend Data Fetching Pattern                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Action
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  React Component â”‚
â”‚  â€¢ Dashboard     â”‚
â”‚  â€¢ Activities    â”‚
â”‚  â€¢ Exports       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ calls
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Client     â”‚  (lib/api.ts)
â”‚   â€¢ fetchStats() â”‚
â”‚   â€¢ fetchActivities() â”‚
â”‚   â€¢ exportTable() â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ HTTP Request
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend API     â”‚  (FastAPI)
â”‚  â€¢ /api/v1/stats â”‚
â”‚  â€¢ /api/v1/activities â”‚
â”‚  â€¢ /api/v1/exports â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ SQL Query
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SQLite DB       â”‚
â”‚  â€¢ main.db       â”‚
â”‚  â€¢ github.db     â”‚
â”‚  â€¢ slack.db      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Results
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend API     â”‚  â† Transform to JSON
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ HTTP Response
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Client     â”‚  â† Cache with React Query
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ returns data
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  React Component â”‚  â† Re-render with new data
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ Database Architecture

### Multi-Database Strategy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Database Architecture Overview                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Rationale for Multiple Databases:
âœ… Separation of concerns (each plugin owns its data)
âœ… Independent schema evolution
âœ… Easier debugging and data inspection
âœ… Source data preserved for re-processing
âœ… Main DB for unified queries (performance)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      main.db                             â”‚
â”‚                  (Unified Index)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  Tables:                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ members                                         â”‚   â”‚
â”‚  â”‚ â€¢ id, name, email, role, team                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ member_identifiers                              â”‚   â”‚
â”‚  â”‚ â€¢ member_id, identifier_type, identifier_value  â”‚   â”‚
â”‚  â”‚   (GitHub username, Slack ID, email, etc.)      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ member_activities â­ (Most Important)           â”‚   â”‚
â”‚  â”‚ â€¢ activity_id (unique hash)                     â”‚   â”‚
â”‚  â”‚ â€¢ member_id (FK to members)                     â”‚   â”‚
â”‚  â”‚ â€¢ source_type (github/slack/notion/drive)       â”‚   â”‚
â”‚  â”‚ â€¢ activity_type (commit/message/pr/file)        â”‚   â”‚
â”‚  â”‚ â€¢ timestamp (KST)                               â”‚   â”‚
â”‚  â”‚ â€¢ metadata (JSON)                               â”‚   â”‚
â”‚  â”‚                                                 â”‚   â”‚
â”‚  â”‚ Purpose: Cross-source activity queries         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ github.db  â”‚  â”‚ slack.db   â”‚  â”‚ notion.db  â”‚  â”‚google_  â”‚
â”‚            â”‚  â”‚            â”‚  â”‚            â”‚  â”‚drive.db â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚â€¢ commits   â”‚  â”‚â€¢ messages  â”‚  â”‚â€¢ pages     â”‚  â”‚â€¢ files  â”‚
â”‚â€¢ prs       â”‚  â”‚â€¢ reactions â”‚  â”‚â€¢ blocks    â”‚  â”‚â€¢ changesâ”‚
â”‚â€¢ issues    â”‚  â”‚â€¢ threads   â”‚  â”‚â€¢ comments  â”‚  â”‚â€¢ shares â”‚
â”‚â€¢ reviews   â”‚  â”‚â€¢ users     â”‚  â”‚â€¢ users     â”‚  â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   (Raw data preserved for detailed analysis)
```

### Key Database Design Decisions

**1. Member Index (Normalization)**

```sql
-- members table: Single source of truth
CREATE TABLE members (
    id INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    email TEXT UNIQUE,
    role TEXT,
    team TEXT
);

-- member_identifiers: Map external IDs to members
CREATE TABLE member_identifiers (
    id INTEGER PRIMARY KEY,
    member_id INTEGER NOT NULL,
    identifier_type TEXT NOT NULL,  -- 'github', 'slack', 'email'
    identifier_value TEXT NOT NULL,
    FOREIGN KEY (member_id) REFERENCES members(id),
    UNIQUE (identifier_type, identifier_value)
);

-- Example:
-- Member: Monica (ID: 1)
-- Identifiers:
--   - github: monica-tokamak
--   - slack: U06NU8XYZ
--   - email: monica@tokamak.network
```

**2. Activity Deduplication**

```sql
-- activity_id: SHA256 hash prevents duplicates
CREATE TABLE member_activities (
    activity_id TEXT PRIMARY KEY,  -- hash(source + type + timestamp + member)
    member_id INTEGER NOT NULL,
    source_type TEXT NOT NULL,
    activity_type TEXT NOT NULL,
    timestamp TEXT NOT NULL,
    metadata TEXT,  -- JSON
    FOREIGN KEY (member_id) REFERENCES members(id)
);

-- INSERT OR IGNORE ensures no duplicates when re-collecting data
```

**3. Timezone Handling**

```python
# All timestamps stored in UTC (ISO 8601)
timestamp = datetime.now(tz=pytz.UTC).isoformat()

# Displayed in KST for reports
kst = pytz.timezone('Asia/Seoul')
kst_time = utc_time.astimezone(kst)
```

---

## ğŸ” Authentication & Security

### Web3 Wallet Authentication

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Web3 Authentication Flow                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. User lands on app
   â”‚
   â”œâ”€ Check session in localStorage
   â”‚  â”œâ”€ Valid session exists? â†’ Access granted
   â”‚  â””â”€ No session? â†’ Redirect to /login
   â”‚
2. User clicks "Connect Wallet" on /login
   â”‚
   â”œâ”€ MetaMask popup appears
   â”‚  â”œâ”€ User connects wallet
   â”‚  â””â”€ Gets wallet address (0x1234...)
   â”‚
3. Check if address is in admin whitelist
   â”‚
   â”œâ”€ Address in HARDCODED_ADMINS?
   â”‚  â”œâ”€ YES â†’ Proceed to step 4
   â”‚  â””â”€ NO  â†’ Show "Unauthorized" error
   â”‚
4. Sign message for verification
   â”‚
   â”œâ”€ Generate message:
   â”‚  "All-Thing-Eye Admin Access
   â”‚   Address: 0x1234...
   â”‚   Timestamp: 2025-11-13T10:30:00Z
   â”‚   Nonce: random123"
   â”‚
   â”œâ”€ User signs with MetaMask
   â”‚  â””â”€ Cryptographic signature generated
   â”‚
5. Verify signature (client-side)
   â”‚
   â”œâ”€ Signature valid?
   â”‚  â”œâ”€ YES â†’ Create session
   â”‚  â”‚  â””â”€ Store in localStorage:
   â”‚  â”‚     {
   â”‚  â”‚       address: "0x1234...",
   â”‚  â”‚       signature: "0xabcd...",
   â”‚  â”‚       timestamp: "2025-11-13...",
   â”‚  â”‚       expiresAt: "2025-11-14..."
   â”‚  â”‚     }
   â”‚  â”‚
   â”‚  â””â”€ Redirect to dashboard
   â”‚
6. AuthGuard protects all routes
   â”‚
   â”œâ”€ Every page load: Check session validity
   â”‚  â”œâ”€ Session expired? â†’ Redirect to /login
   â”‚  â””â”€ Valid? â†’ Allow access
   â”‚
```

### Security Features

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Security Layers                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1. Admin Whitelist                                         â”‚
â”‚     â”œâ”€ Hardcoded wallet addresses                          â”‚
â”‚     â”œâ”€ No database lookup (faster, more secure)            â”‚
â”‚     â””â”€ Easy to update (redeploy)                            â”‚
â”‚                                                             â”‚
â”‚  2. Message Signing                                         â”‚
â”‚     â”œâ”€ Proves ownership of wallet                          â”‚
â”‚     â”œâ”€ No passwords to store/leak                          â”‚
â”‚     â”œâ”€ Unique message per session (nonce)                  â”‚
â”‚     â””â”€ Timestamp prevents replay attacks                    â”‚
â”‚                                                             â”‚
â”‚  3. Session Management                                      â”‚
â”‚     â”œâ”€ Stored in localStorage (client-side only)           â”‚
â”‚     â”œâ”€ 24-hour expiration                                   â”‚
â”‚     â”œâ”€ Auto-logout on expiration                            â”‚
â”‚     â””â”€ Manual logout clears session                         â”‚
â”‚                                                             â”‚
â”‚  4. Route Protection                                        â”‚
â”‚     â”œâ”€ AuthGuard component wraps app                       â”‚
â”‚     â”œâ”€ Checks every page navigation                        â”‚
â”‚     â””â”€ Redirects unauthorized users to /login              â”‚
â”‚                                                             â”‚
â”‚  5. API Security                                            â”‚
â”‚     â”œâ”€ CORS configuration                                   â”‚
â”‚     â”œâ”€ Rate limiting (planned)                             â”‚
â”‚     â””â”€ Input validation (Pydantic)                         â”‚
â”‚                                                             â”‚
â”‚  6. Environment Variables                                   â”‚
â”‚     â”œâ”€ API keys in .env (never committed)                  â”‚
â”‚     â”œâ”€ Admin addresses in .env.local                       â”‚
â”‚     â””â”€ Secrets Manager for production                      â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Admin Configuration

```typescript
// frontend/src/lib/auth.ts

// Option 1: Hardcoded (simple, fast)
const HARDCODED_ADMINS = [
  '0x1234567890123456789012345678901234567890',
  '0xabcdefabcdefabcdefabcdefabcdefabcdefabcd',
];

// Option 2: Environment variables (flexible)
// .env.local
NEXT_PUBLIC_ADMIN_ADDRESSES=0x1234...,0xabcd...,0xef01...

const admins = process.env.NEXT_PUBLIC_ADMIN_ADDRESSES.split(',');
```

---

## ğŸš€ Deployment Architecture

### Current: Local Development

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Local Development Setup                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Terminal 1: Backend                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  cd backend                                         â”‚   â”‚
â”‚  â”‚  python -m uvicorn main:app --reload --port 8000   â”‚   â”‚
â”‚  â”‚  â†’ http://localhost:8000                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  Terminal 2: Frontend                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  cd frontend                                        â”‚   â”‚
â”‚  â”‚  npm run dev                                        â”‚   â”‚
â”‚  â”‚  â†’ http://localhost:3000                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  Terminal 3: Data Collection (manual)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  python tests/test_github_plugin.py --last-week    â”‚   â”‚
â”‚  â”‚  python tests/test_slack_plugin.py --last-week     â”‚   â”‚
â”‚  â”‚  python tests/test_notion_plugin.py                â”‚   â”‚
â”‚  â”‚  python tests/test_google_drive_plugin.py          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Planned: AWS Deployment

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                AWS Production Architecture                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Internet                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ HTTPS
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CloudFront (CDN)                           â”‚
â”‚                   â€¢ SSL/TLS termination                      â”‚
â”‚                   â€¢ Static asset caching                     â”‚
â”‚                   â€¢ Global edge locations                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                               â”‚
         â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   S3 Bucket      â”‚          â”‚   API Gateway    â”‚
â”‚   (Frontend)     â”‚          â”‚   or ALB         â”‚
â”‚                  â”‚          â”‚                  â”‚
â”‚  â€¢ Next.js       â”‚          â”‚  â€¢ Route /api/*  â”‚
â”‚    static export â”‚          â”‚  â€¢ Rate limiting â”‚
â”‚  â€¢ HTML/CSS/JS   â”‚          â”‚  â€¢ CORS          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚    ECS Fargate           â”‚
                         â”‚    (Backend Containers)  â”‚
                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                         â”‚                          â”‚
                         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                         â”‚  â”‚  FastAPI App       â”‚ â”‚
                         â”‚  â”‚  â€¢ API endpoints   â”‚ â”‚
                         â”‚  â”‚  â€¢ Business logic  â”‚ â”‚
                         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                         â”‚            â”‚            â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚    RDS PostgreSQL        â”‚
                         â”‚    â€¢ main.db â†’ schema    â”‚
                         â”‚    â€¢ github.db â†’ schema  â”‚
                         â”‚    â€¢ slack.db â†’ schema   â”‚
                         â”‚    â€¢ Automated backups   â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Data Collection (Scheduled)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  EventBridge Rule  â”‚         â”‚  Lambda Functions    â”‚   â”‚
â”‚  â”‚  (Cron Schedule)   â”‚ â”€â”€â”€â”€â”€â”€â–¶ â”‚  â€¢ GitHub collector  â”‚   â”‚
â”‚  â”‚                    â”‚         â”‚  â€¢ Slack collector   â”‚   â”‚
â”‚  â”‚  â€¢ Daily at 1am    â”‚         â”‚  â€¢ Notion collector  â”‚   â”‚
â”‚  â”‚  â€¢ Weekly reports  â”‚         â”‚  â€¢ Drive collector   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                             â”‚               â”‚
â”‚                                             â–¼               â”‚
â”‚                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                                  â”‚  RDS PostgreSQL      â”‚   â”‚
â”‚                                  â”‚  (write data)        â”‚   â”‚
â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Secrets Management                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  AWS Secrets Manager:                                        â”‚
â”‚  â”œâ”€ GITHUB_TOKEN                                             â”‚
â”‚  â”œâ”€ SLACK_BOT_TOKEN                                          â”‚
â”‚  â”œâ”€ NOTION_TOKEN                                             â”‚
â”‚  â”œâ”€ GOOGLE_DRIVE_CREDENTIALS                                 â”‚
â”‚  â””â”€ DATABASE_URL                                             â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Deployment Strategy

```
Development  â†’  Staging  â†’  Production
    â†“             â†“            â†“
  SQLite      PostgreSQL   PostgreSQL
  Localhost      AWS         AWS
  Manual      Semi-auto    Automated
```

---

## ğŸ› ï¸ Technology Stack

### Backend

| Component       | Technology | Version | Purpose                 |
| --------------- | ---------- | ------- | ----------------------- |
| **Framework**   | FastAPI    | 0.104+  | REST API server         |
| **Language**    | Python     | 3.9+    | Backend logic           |
| **Database**    | SQLite     | -       | Development DB          |
| **Database**    | PostgreSQL | 15+     | Production DB (planned) |
| **ORM**         | SQLAlchemy | 2.0+    | Database abstraction    |
| **Validation**  | Pydantic   | 2.0+    | Data validation         |
| **HTTP Client** | httpx      | 0.25+   | Async API calls         |
| **Timezone**    | pytz       | 2023.3+ | Timezone handling       |

### Frontend

| Component         | Technology     | Version | Purpose                 |
| ----------------- | -------------- | ------- | ----------------------- |
| **Framework**     | Next.js        | 14.0+   | React framework         |
| **Language**      | TypeScript     | 5.0+    | Type-safe JS            |
| **UI Library**    | React          | 18.0+   | Component library       |
| **Styling**       | Tailwind CSS   | 3.3+    | Utility-first CSS       |
| **Web3**          | Wagmi          | 2.0+    | Ethereum interactions   |
| **Web3**          | Viem           | 2.0+    | Ethereum client         |
| **Data Fetching** | TanStack Query | 5.0+    | Server state management |
| **HTTP Client**   | Axios          | 1.6+    | API requests            |

### External APIs

| Service          | API Type       | Purpose                      |
| ---------------- | -------------- | ---------------------------- |
| **GitHub**       | REST + GraphQL | Commits, PRs, issues         |
| **Slack**        | Web API        | Messages, reactions, threads |
| **Notion**       | REST API       | Pages, blocks, comments      |
| **Google Drive** | REST API       | Files, changes, permissions  |

### Development Tools

| Tool               | Purpose                       |
| ------------------ | ----------------------------- |
| **Docker**         | Containerization              |
| **Docker Compose** | Multi-container orchestration |
| **Git**            | Version control               |
| **VS Code**        | IDE                           |
| **Postman**        | API testing                   |
| **SQLite Browser** | Database inspection           |

---

## ğŸ”® Future Enhancements

### Phase 1: Core Improvements (Q4 2025)

```
âœ… Completed:
   â”œâ”€ Multi-source data collection
   â”œâ”€ Unified database architecture
   â”œâ”€ Web dashboard (basic)
   â”œâ”€ Web3 authentication
   â””â”€ CSV/ZIP exports

ğŸš§ In Progress:
   â”œâ”€ Custom Data Export Builder
   â””â”€ Database viewer in web UI

ğŸ“‹ Planned:
   â”œâ”€ Advanced filtering and search
   â”œâ”€ Real-time data refresh
   â”œâ”€ User preferences and settings
   â””â”€ Mobile-responsive design improvements
```

### Phase 2: Analytics & Reporting (Q1 2026)

```
ğŸ“Š Enhanced Analytics:
   â”œâ”€ Interactive charts (Chart.js / Recharts)
   â”œâ”€ Customizable dashboards
   â”œâ”€ Trend analysis (week-over-week, month-over-month)
   â”œâ”€ Member performance scoring
   â””â”€ Project health indicators

ğŸ“ Automated Reports:
   â”œâ”€ Weekly report email automation
   â”œâ”€ Custom report templates
   â”œâ”€ PDF export
   â”œâ”€ Scheduled report delivery
   â””â”€ AI-generated insights
```

### Phase 3: AI Integration (Q2 2026)

```
ğŸ¤– AI-Powered Features:
   â”œâ”€ Natural language queries
   â”‚  "Show me Monica's Slack activity last week"
   â”‚  "Which project had the most commits this month?"
   â”‚
   â”œâ”€ Automated insights
   â”‚  â€¢ Identify bottlenecks
   â”‚  â€¢ Predict sprint completion
   â”‚  â€¢ Suggest resource allocation
   â”‚
   â”œâ”€ Sentiment analysis (Slack messages)
   â”‚  â€¢ Team morale tracking
   â”‚  â€¢ Communication patterns
   â”‚
   â””â”€ Code review quality scoring (GitHub PRs)
      â€¢ Review thoroughness
      â€¢ Comment quality
```

### Phase 4: Collaboration Features (Q3 2026)

```
ğŸ‘¥ Team Collaboration:
   â”œâ”€ Comments on activities
   â”œâ”€ @mentions and notifications
   â”œâ”€ Shared reports and dashboards
   â”œâ”€ Role-based access control (RBAC)
   â”‚  â€¢ Admin (full access)
   â”‚  â€¢ Manager (read + export)
   â”‚  â€¢ Member (own data only)
   â”‚
   â””â”€ Slack/Discord integration
      â€¢ Daily standup summaries
      â€¢ Alert on anomalies
```

### Phase 5: Scale & Performance (Q4 2026)

```
âš¡ Performance Optimization:
   â”œâ”€ Redis caching layer
   â”œâ”€ Database query optimization
   â”œâ”€ Lazy loading and pagination
   â”œâ”€ CDN for static assets
   â””â”€ API response compression

ğŸ“ˆ Scalability:
   â”œâ”€ Horizontal scaling (multiple ECS tasks)
   â”œâ”€ Database read replicas
   â”œâ”€ Queue-based data collection (SQS)
   â””â”€ Multi-region support
```

### Phase 6: Additional Data Sources

```
ğŸ”Œ New Plugins:
   â”œâ”€ Jira (project management)
   â”œâ”€ Linear (issue tracking)
   â”œâ”€ Discord (community communication)
   â”œâ”€ Figma (design collaboration)
   â”œâ”€ GitLab (alternative to GitHub)
   â”œâ”€ Confluence (documentation)
   â””â”€ Calendly/Google Calendar (meeting tracking)
```

---

## ğŸ“š Documentation References

### Related Documentation

- **[Quick Start Guide](./QUICK_START.md)** - Get started in 5 minutes
- **[Data Guide for AI](./DATA_GUIDE_FOR_AI.md)** - Database schemas and queries
- **[Database Schema](./DATABASE_SCHEMA.md)** - Detailed schema documentation
- **[API Development](./API_DEVELOPMENT.md)** - Backend API reference
- **[Web3 Auth Setup](./WEB3_AUTH_SETUP.md)** - Authentication configuration
- **[Custom Export Spec](./CUSTOM_EXPORT_SPEC.md)** - Future feature specification
- **[AWS Deployment](./AWS_DEPLOYMENT.md)** - Production deployment guide
- **[Project Structure](./PROJECT_STRUCTURE.md)** - File organization
- **[Report Guidelines](./REPORT_GUIDELINES.md)** - Team report standards

### External Resources

- [FastAPI Documentation](https://fastapi.tiangolo.com/)
- [Next.js Documentation](https://nextjs.org/docs)
- [Wagmi Documentation](https://wagmi.sh/)
- [TailwindCSS Documentation](https://tailwindcss.com/)
- [PostgreSQL Documentation](https://www.postgresql.org/docs/)

---

## ğŸ¯ Key Architectural Decisions

### Why Plugin Architecture?

**Benefits:**

- âœ… Easy to add new data sources
- âœ… Each plugin is isolated (changes don't affect others)
- âœ… Can disable/enable plugins without touching core
- âœ… Different teams can develop plugins independently

**Trade-offs:**

- âŒ Slightly more complex than monolithic
- âŒ Need to maintain plugin interface

**Decision**: Benefits outweigh complexity for our use case (multiple data sources, evolving requirements).

### Why Web3 Authentication?

**Context**: Blockchain-focused organization, no traditional user database.

**Benefits:**

- âœ… No password management (security risk eliminated)
- âœ… Aligns with company values (decentralization)
- âœ… Users already have MetaMask wallets
- âœ… Cryptographic proof of ownership

**Trade-offs:**

- âŒ Requires MetaMask (limits non-technical users)
- âŒ Education needed for new users

**Decision**: Perfect fit for our technical, crypto-native team.

### Why SQLite for Development?

**Benefits:**

- âœ… Zero configuration (file-based)
- âœ… Perfect for local development
- âœ… Easy to inspect with DB Browser
- âœ… Fast for small-medium datasets

**Trade-offs:**

- âŒ Not suitable for production (concurrency limits)
- âŒ Need to migrate to PostgreSQL later

**Decision**: Fastest way to prototype, easy migration path to PostgreSQL.

### Why Next.js over Create React App?

**Benefits:**

- âœ… Server-side rendering (SEO, performance)
- âœ… File-based routing (intuitive)
- âœ… Built-in optimizations (images, fonts, etc.)
- âœ… API routes (optional backend)
- âœ… Production-ready out of the box

**Trade-offs:**

- âŒ Slightly steeper learning curve
- âŒ More opinionated than CRA

**Decision**: Next.js is the industry standard for modern React apps.

---

## ğŸ“ Contact & Support

### Development Team

- **Project Lead**: [Team Lead Name]
- **Backend Developer**: [Developer Name]
- **Frontend Developer**: [Developer Name]
- **DevOps**: [Engineer Name]

### Getting Help

1. **Documentation**: Start with `/docs` folder
2. **Issues**: Check existing GitHub issues
3. **Slack**: `#all-thing-eye-dev` channel
4. **Email**: dev@tokamak.network

---

**Last Updated**: 2025-11-13  
**Version**: 1.0.0  
**Maintained by**: All-Thing-Eye Development Team

---

## ğŸ‰ Conclusion

All-Thing-Eye is a **modern, scalable, and extensible** team analytics platform built with:

- ğŸ”Œ **Plugin architecture** for flexibility
- ğŸ” **Web3 authentication** for security
- ğŸ“Š **Multi-source data aggregation** for comprehensive insights
- ğŸš€ **Production-ready stack** for deployment

This architecture enables rapid development, easy maintenance, and seamless scaling as the platform grows.

**Ready to dive deeper?** Check out our [Quick Start Guide](./QUICK_START.md) and [Data Guide](./DATA_GUIDE_FOR_AI.md)! ğŸš€
